---
title: 开始我的HEXO（外貌篇）
date: 2019-03-20 13:53:04
tags: HEXO

---

## 开始我的HEXO（外貌篇）

#### 前言
某天，正在开心吃鸡的我收到了大牛朋友推来的HEXO个人博客,里面已经有N篇高深大作，看着博客五味陈杂，人家都大神了还在努力，我这种渣渣却玩的如此开心。在此激励下，我也有了自己的博客（在此感谢大神给了我的HEXO生命）。
### 1.我的HEXO出生
简单了解一下，HEXO的功能很多，我打算用它来渲染静态页面，部署到服务器使用nginx代理静态项目来访问（PS：三年特惠的云服务器,得让它在过期前稍微的有一小丢丢热度）。跟着[HEXO官方文档](https://hexo.io/zh-cn/docs/)傻瓜式跟着安装完执行`hexo g`,传页面到服务器，通过nginx代理访问到最原生的页面，到此我的HEXO博客就算出生了吧。
<!-- more -->
### 2.我的HEXO会爬了
很开心的瞅了瞅`_config.yml`改改标题、介绍、关键字后便无从下手emmm~所以好看的静态页面怎么渲染呢？还是老老实实继续看文档吧。这次目标是先把我的HEXO弄好看一丢丢，所以就直接从主题模板开始看了。

hexo模板都放在themes文件夹下，在里面丢一个主题模板文件夹，主_config.yml中theme属性改为我们的主题文件夹名，当然，文件夹内容不是那么随便的，它主要包括
>.
├── languages  	  语言文件，用于国际化
├── layout        页面模板文件
├── scripts       Hexo 脚本
├── source        主题资源文件，包括页面样式，脚本，字体等
└── _config.yml   模板配置文件
其中这布局文件夹。用于存放主题的模板文件，决定了网站内容的呈现方式，Hexo 内建 Swig 模板引擎，您可以另外安装插件来获得 EJS、Haml 或 Jade 支持

问题又来了...后端开发这么久还是个渣渣~什么css js 模板引擎更是不好搞呀，还好生在网络发达大神多多的年代，在[HEXO官网主题页](https://hexo.io/themes/)点把点把看上了[一路烟霞](https://yiluyanxia.site/)大神的模板，pull到我的themes下，改改名字介绍什么的，我的博客算是好看多了。
### 3.努力再走走吧
都爬起来了，看着奔跑的大神们，渣渣决定努力再走走。
完全自己搭建一个模板渣渣觉得有点点不现实，尽力看明白会改改就行。下面简单记录一下从[一路烟霞](https://yiluyanxia.site/)大神的模板中和[HEXO官网API](https://hexo.io/zh-cn/api/)中看的一些东西,否则下一个七秒的我就会忘记最基本标题怎么配。（会有不准确，非常接受批评）
#### 从layout模板文件夹开始
在layout文件夹中建立名为index的模板，hexo会取本模板渲染首页html文件。
创建名为layout的导航模板做布局模板，index会自动将layout加载入自己的body内，渲染出完整的页面。
hexo支持模块化，我们可以把公用部分提取出来，建立多个模块，利用hexo的partial()[辅助函数](https://hexo.io/zh-cn/docs/helpers.html#partial)在不同页面引入，拼接出自己想要的模板。
#### 数据及数据填充
模板准备好，hexo渲染的时候读取模板就知道我们页面骨架是啥样的啦，接下来我们把数据内容填充到骨架内。
`theme`：配置`_config.yml`模板文件属性值，hexo会把配置文件转成一个theme对象，在模板中只需要调用theme对象属性就能得到我们的配置信息。
`page.posts`:这是一个文章对象集合列表，包括文章的`post.content、post.date、post.path、post.excerpt`
`categories`:分类集合
`tags`:标签集合
#### 样式
接下来就是文章好看的样式了，对自己的模板加入样式，外部文件可以用hexo的css辅助函数引用
#### 文章浏览量统计
用大神模板生成静态文件后发现还有文章访问量一栏，看了布局文件后发现大神引入了[不蒜子](http://busuanzi.ibruce.info/)的极简网页计数器，很是简洁方便。
#### EJS基本语法
参数
>cache 缓存编译后的函数，需要提供 filename
filename 被 cache 参数用做键值，同时也用于 include 语句
context 函数执行时的上下文环境
compileDebug 当为 false 时不编译调试语句
client 返回独立的编译后的函数
delimiter 放在角括号中的字符，用于标记标签的开与闭
debug 将生成的函数体输出
_with 是否使用 with() {} 结构。如果为 false，所有局部数据将存储在 locals 对象上。
localsName 如果不使用 with ，localsName 将作为存储局部变量的对象的名称。默认名称是 locals
rmWhitespace 删除所有可安全删除的空白字符，包括开始与结尾处的空格。对于所有标签来说，它提供了一个更安全版本的 -%> (在一行的中间并不会剔除标签后面的换行符)。
escape 为 <%= 结构设置对应的转义（escape）函数。它被用于输出结果以及在生成的客户端函数中通过 .toString() 输出。(默认转义 XML)。

标签含义
><% '脚本' 标签，用于流程控制，无输出。
<%_ 删除其前面的空格符
<%= 输出数据到模板（输出是转义 HTML 标签）
<%- 输出非转义的数据到模板
<%# 注释标签，不执行、不输出内容
<%% 输出字符串 '<%'
%> 一般结束标签
-%> 删除紧随其后的换行符
_%> 将结束标签后面的空格符删除


